item,name,ext1st,extnxt,begin,end
file,[container]/[Name].java,"import [container].*;
","import [container].*;
","/* File generated by Đức's ClasHStamP */
package [container];

import java.io.*;
import java.util.*;
",
inheritance, extends [tYPE], implements [nAME],", [nAME]",,
template,<[nAME]>,[nAME],", [nAME]",[nAME],[nAME] extends [tYPE]
class,"
[->][sCOPE] class [nAME][mODIFIER][tYPE]
[vALUE]",,,"[->]{
","[->]}
"
b_enum,"[->]public  enum [Name] {
","[->][nAME],[->64][dESC]
","[->][nAME],[->64][dESC]
",,"[->]    [nAME]_NUM
[->]};
"
c_enum,"[->]protected  enum [Name] {
","[->][nAME],[->64][dESC]
","[->][nAME],[->64][dESC]
",,"[->]    [nAME]_NUM
[->]};
"
i_enum,"[->]private enum [Name] {
","[->][nAME],[->64][dESC]
","[->][nAME],[->64][dESC]
",,"[->]    [nAME]_NUM
[->]};
"
b_struct,"[->]public static class [Name] {
","[->]public [tYPE] [nAME][mODIFIER];[->64][dESC]
","[->]public [tYPE] [nAME][mODIFIER];[->64][dESC]
","[->]public static class [Name] extends [tYPE]{
","[->]};
"
c_struct,"[->]protected static class [Name] {
","[->]public [tYPE] [nAME][mODIFIER];[->64][dESC]
","[->]public [tYPE] [nAME][mODIFIER];[->64][dESC]
","[->]protected static class [Name] extends [tYPE]{
","[->]};
"
i_struct,"[->]private static class [Name] {
","[->]public [tYPE] [nAME][mODIFIER];[->64][dESC]
","[->]public [tYPE] [nAME][mODIFIER];[->64][dESC]
","[->]private static class [Name] extends [tYPE]{
","[->]};
"
constructor,[->]public  [Name](,,,"
[->]){","
[->]}[->96]
"
attr_group,,,,,
ctor_call,"
[->]) {
[->]    super( [vALUE] );
",[vALUE],", [vALUE]",_[nAME],[nAME]
__s_attr,"[->][scope][tYPE] [nAME];[->64][dESC]
","
[->]    [tYPE] _[nAME]",",
[->]    [tYPE] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
__o_attr,"[->][scope][tYPE] [nAME];[->65][dESC]
","
[->]    [tYPE] _[nAME]",",
[->]    [tYPE] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
__r_attr,"[->][scope][tYPE] [nAME];[->66][dESC]
","
[->]    [tYPE] _[nAME]",",
[->]    [tYPE] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
_ms_attr,"[->][scope]ArrayList<[tYPE]> [nAME];[->67][dESC]
","
[->]    ArrayList<[tYPE]> _[nAME]",",
[->]    ArrayList<[tYPE]> _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
_mo_attr,"[->][scope]ArrayList<[tYPE]> [nAME];[->67][dESC]
","
[->]    ArrayList<[tYPE]> _[nAME]",",
[->]    ArrayList<[tYPE]> _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
_mr_attr,"[->][scope]ArrayList<[tYPE]> [nAME];[->67][dESC]
","
[->]    ArrayList<[tYPE]> _[nAME]",",
[->]    ArrayList<[tYPE]> _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
c_s_attr,"[->][scope]final [tYPE] [nAME];[->64][dESC]
","
[->]    [tYPE] _[nAME]",",
[->]    [tYPE] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
c_o_attr,"[->][scope]final [tYPE] [nAME];[->65][dESC]
","
[->]    [tYPE] _[nAME]",",
[->]    [tYPE] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
c_r_attr,"[->][scope]final [tYPE] [nAME];[->66][dESC]
","
[->]    [tYPE] _[nAME]",",
[->]    [tYPE] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
cms_attr,"[->][scope]final [tYPE][] [nAME];[->64][dESC]
","
[->]    [tYPE][] _[nAME]",",
[->]    [tYPE][] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
cmo_attr,"[->][scope]final [tYPE][] [nAME];[->64][dESC]
","
[->]    [tYPE][] _[nAME]",",
[->]    [tYPE][] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
cmr_attr,"[->][scope]final [tYPE][] [nAME];[->64][dESC]
","
[->]    [tYPE][] _[nAME]",",
[->]    [tYPE][] _[nAME]","
[->][nAME] = [vALUE];","
[->][nAME] = [vALUE];"
s_s_attr,"[->][scope]static [tYPE] [nAME] = [vALUE];[->64][dESC]
","[->][scope]static final [tYPE] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE] [nAME];[->64][dESC]
"
s_o_attr,"[->][scope]static [tYPE] [nAME] = [vALUE];[->64][dESC]
","[->][scope]static final [tYPE] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE] [nAME];[->64][dESC]
"
s_r_attr,"[->][scope]static [tYPE] [nAME] = [vALUE];[->64][dESC]
","[->][scope]static final [tYPE] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE] [nAME];[->64][dESC]
"
sms_attr,"[->][scope]static [tYPE][] [nAME] = [vALUE];[->64][dESC]
","[->][scope]static final [tYPE][] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE][] [nAME] = new [tYPE][[mODIFIER]];[->64][dESC]
"
smo_attr,"[->][scope]static [tYPE][] [nAME] = [vALUE];[->64][dESC]
","[->][scope]static final [tYPE][] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE][] [nAME] = new [tYPE][[mODIFIER]];;[->64][dESC]
"
smr_attr,"[->][scope]static [tYPE][] [nAME] = [vALUE];[->64][dESC]
","[->][scope]static final [tYPE][] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE][] [nAME] = new [tYPE][[mODIFIER]];;[->64][dESC]
"
p_s_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]void set[Name]([tYPE] value){
[->]    [vALUE]
[->]}
",return [nAME];,[nAME] = value;
p_o_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]void set[Name]([tYPE] value){
[->]    [vALUE]
[->]}
",return [nAME];,[nAME] = value;
p_r_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]void set[Name]([tYPE] value){
[->]    [vALUE]
[->]}
",return [nAME];,[nAME] = value;
pms_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]void set[Name]([tYPE] value){
[->]    [vALUE]
[->]}
",return [nAME];,[nAME] = value;
pmo_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]void set[Name]([tYPE] value){
[->]    [vALUE]
[->]}
",return [nAME];,[nAME] = value;
pmr_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]void set[Name]([tYPE] value){
[->]    [vALUE]
[->]}
",return [nAME];,[nAME] = value;
vptr_impl,,,,,
__c_oper,[->]protected [tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */

"
__b_oper,[->][scope][tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */

"
vptr_decl,,,,,
_ac_oper,[->]protected [tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */

"
_ab_oper,[->][scope] [tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */
"
l_i_oper,[->]private [tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */
"
l_c_oper,[->]protected [tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */
"
l_b_oper,[->][scope][tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */
"
lai_oper,,,,,
vptr_call,,,,,
s_i_oper,[->]private static [tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */
"
s_c_oper,[->]protected static [tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */
"
s_b_oper,[->][scope]static [tYPE] [nAME](,"
[->][tYPE] [nAME]",",
[->][tYPE] [nAME]","
[->])[vALUE]{
","[->]} /* [Container].[nAME] */
"
sai_oper,,,,,
sab_oper,,,,,
event_decl,"[->]public enum EventId {
","[->][nAME],
","[->][nAME],
",,"[->]    Num
[->]};
[->]public boolean Start(){
[->]    mainStm.Prepare( null );
[->]    boolean bResult = mainStm.Reset( this );
[->]    bResult |= mainStm.StateDefaultTrans( this );
[->]    return bResult;
[->]}
[->]public boolean EventProc( [tYPE].EventId nEventId, EventParams pEventParams ){
[->]    boolean bResult = mainStm.EventProc( this, nEventId, pEventParams );
[->]    bResult |= mainStm.StateDefaultTrans( this );
[->]    return bResult;
[->]}"
state_decl,"        public static final long [nAME] [->48] = ( 1 << [vALUE] );
",        public static final long [nAME] [->48] = ( [vALUE], | [vALUE],"/* states' declaration */
[vALUE]"," );
"
state_entry,"        void EndTrans( [tYPE] p[tYPE] ){
            nCurrentState = nTargetState;
            bIsExternTrans = false;
","            if( nCurrentState == [nAME] ) [->32]{ [nAME]_Entry( p[tYPE] ); }
","            else if( nCurrentState == [nAME] ) [->32]{ [nAME]_Entry( p[tYPE] ); }
","            else {}
","        }
"
state_exit,"        void BgnTrans( [tYPE] p[tYPE], long targetState ){
            nTargetState = targetState;
            nPseudostate = targetState;
","            if( nCurrentState == [nAME] ) [->32]{ [nAME]_Exit( p[tYPE] ); }
","            else if( nCurrentState == [nAME] ) [->32]{ [nAME]_Exit( p[tYPE] ); }
","            else {}
","        }
"
state_impl,"        public boolean Reset(  [tYPE] p[tYPE] ) {
            return Reset( p[tYPE], StateMachine.STATE_UNDEF, false );
        }
        public boolean Reset(  [tYPE] p[tYPE], boolean lastEnteredStateRecovering ) {
            return Reset( p[tYPE], StateMachine.STATE_UNDEF, lastEnteredStateRecovering );
        }
        public boolean Reset(  [tYPE] p[tYPE], long entryPt ) {
            return Reset( p[tYPE], entryPt, false );
        }
        public boolean Reset( [tYPE] p[tYPE], long entryPt, boolean lastEnteredStateRecovering ) {
            if( entryPt != StateMachine.STATE_UNDEF ){
                Req( entryPt );
                return false;
            }
            nPseudostate = [sCOPE].[nAME];
            bIsExternTrans = true;
            BgnTrans( p[tYPE], nPseudostate );
            EndTrans( p[tYPE] );
            return true;
        }
        public boolean EventProc( [tYPE] p[tYPE], [tYPE].EventId nEventId, EventParams pEventParams ){
            boolean bResult = false;
            nLCAState = StateMachine.STATE_UNDEF;
            bHandled = false;
            wasHandled = false;
","            if( nCurrentState == [nAME] ) [->32]{ [nAME]_EventProc( p[tYPE], nEventId, pEventParams ); }
","            else if( nCurrentState == [nAME] ) [->32]{ [nAME]_EventProc( p[tYPE], nEventId, pEventParams ); }
","            else {}
","            return bResult;
        }
        boolean Abort( [tYPE] p[tYPE] ) {
            nSourceState = [sCOPE].[nAME];
            BgnTrans( p[tYPE], StateMachine.STATE_UNDEF );
            EndTrans( p[tYPE] );
            return true;
        }
"
transition,"        void [nAME]_Entry( [tYPE] p[tYPE] ){
            if( Enterable( [sCOPE].[nAME] ) ){
                [cONTAINER]_Entry( p[tYPE] );
                DefaultEntryAction( p[tYPE], ""[dESC]"" );
[vALUE]            }
        }
        boolean [nAME]_EventProc( [tYPE] p[tYPE], [tYPE].EventId nEventId, EventParams pEventParams ){
            boolean bResult = false;
[mODIFIER]            if( !bHandled ){
                nSourceState = [sCOPE].[nAME];
                DefaultDoingAction( p[tYPE], ""[dESC]"" );
","                switch( nEventId ){
                case EventId.[nAME]:{
","                } break;
                case EventId.[nAME]:{
","                } break;
                default: break;
                }
","            }
            bHandled |= bResult;
            wasHandled |= bResult;
            return [cONTAINER]_EventProc( p[tYPE], nEventId, pEventParams );
        }
        void [nAME]_Exit( [tYPE] p[tYPE] ){
            if( Exitable( [sCOPE].[nAME] ) ){ 
[vALUE]                 DefaultExitAction( p[tYPE], ""[dESC]"" );
                [cONTAINER]_Exit( p[tYPE] );
            }
        }
"
trans_top,"        void [nAME]_Entry( [tYPE] p[tYPE] ){
            if( Enterable( [sCOPE].[nAME] ) ){
[vALUE]            }
        }
        boolean [nAME]_EventProc( [tYPE] p[tYPE], [tYPE].EventId nEventId, EventParams pEventParams ){
            boolean bResult = false;
[mODIFIER]            if( !bHandled ){
                nSourceState = [sCOPE].[nAME];
","                switch( nEventId ){
                case EventId.[nAME]:{
","                } break;
                case EventId.[nAME]:{
","                } break;
                default: break;
                }
","            }
            bHandled |= bResult;
            wasHandled |= bResult;
            return bHandled;
        }
        void [nAME]_Exit( [tYPE] p[tYPE] ){
            if( Exitable( [sCOPE].[nAME] ) ){ 
[vALUE]            }
        }
"
branch,"[->]else {
","[->]if ([nAME]) {
","[->]} else if ([nAME]) {
","[->]} else {
","[->]}
"
comment,/**< [nAME] [->32]*/," * [nAME]
"," * [nAME]
","/**
"," */
"
action,"[->][nAME]Params* e = ( [nAME]Params* )pEventParams;
","[->][nAME]
","[->][nAME]
",,
param_dir,,,,0,.
statemachine,,"    [tYPE][mODIFIER] mainStm;[->64][dESC]
","    mainStm = new [tYPE]();
","    protected class [nAME] extends BaseStmTop {
        protected StateMachine pParentStm = null;
        protected boolean lastEnteredStateRecovering = false;
[vALUE]/* Duc Here */
","
        public void Prepare( StateMachine pParent ){
            pParentStm = pParent;
[vALUE]        }
    } /* [nAME] */
"
default_trans,"        boolean StateDefaultTrans( [tYPE] p[tYPE] ){
            boolean bResult = false;
            nSourceState = nCurrentState;
            nLCAState = StateMachine.STATE_UNDEF;
", nPseudostate == [cONTAINER].[nAME] [mODIFIER] , nCurrentState == [sCOPE].[vALUE] && nPseudostate == [cONTAINER].[nAME] [mODIFIER] ,"            }else if( nCurrentState != nPseudostate ){
                BgnTrans( p[tYPE], nPseudostate );
                EndTrans( p[tYPE] );
                bResult = true;
            }else{
            }
","            bHandled |= bResult;
            wasHandled |= bResult;
            ( ( [sCOPE] )pMain ).lastEnteredStateRecovering = false;
            return bResult;
        }
"
substm,"    [cONTAINER] [nAME] = new [cONTAINER]();[->64][dESC]
","    [nAME].Prepare( [mODIFIER] );
","
[->] && ( ( [sCOPE] )pMain ).[mODIFIER].IsFinished()","[->]( ( [sCOPE] )pMain ).[mODIFIER].Reset( p[tYPE], [cONTAINER].[nAME], ( ( [sCOPE] )pMain ).lastEnteredStateRecovering );
","[->]( ( [sCOPE] )pMain ).pParentStm.Req( [sCOPE].[nAME] );
"
region,"        _[cONTAINER] [nAME] = new _[cONTAINER]();[->64][dESC]
","            [nAME].pMain = this;
","
[->] && ( ( [sCOPE] )pMain ).[cONTAINER].nPseudostate == [sCOPE]_[vALUE]","[->]( ( [sCOPE] )pMain ).[mODIFIER].Reset( p[tYPE], [sCOPE].[nAME] );
","        class _[nAME] extends StateMachine {
[vALUE]        }
"
state_action,"[->]if( !( ( [sCOPE] )pMain ).lastEnteredStateRecovering && nTargetState == [sCOPE].[nAME] ){
[->]    nPseudostate = [sCOPE].[mODIFIER];
[->]}
","[->]bIsExternTrans = true;
",[->][nAME],"[->]( ( [sCOPE] )pMain ).[mODIFIER].Reset( p[tYPE] );
","[->]( ( [sCOPE] )pMain ).[mODIFIER].Abort( p[tYPE] );
"
trans_action,"[->][nAME]Params* e = ( [nAME]Params* )pEventParams; // need merge from ""action"" ★
",( ( [sCOPE] )pMain ).[mODIFIER].IsIn( [sCOPE].[vALUE] ),"
[->] && HdStateMachine_IsIn( &( ( [sCOPE] )pMain ).[mODIFIER], [sCOPE].[vALUE] )","[->]BgnTrans( p[tYPE], [sCOPE].[nAME] );
[mODIFIER][->]EndTrans( p[tYPE] );
[->]bResult |= true;
","[mODIFIER][->]bResult |= true; // internal transition
"
history,"        long [nAME];
","            [nAME] = StateMachine.STATE_UNDEF;
","[->]( ( [sCOPE] )pMain ).[nAME] = [sCOPE].[vALUE];
","[->]if( ( ( [sCOPE] )pMain ).[nAME] != StateMachine.STATE_UNDEF ){
[->]    BgnTrans( p[tYPE], ( ( [sCOPE] )pMain ).[nAME] );
[mODIFIER][->]    EndTrans( p[tYPE] );
[->]    bResult |= true;
[->]}else{
[vALUE][->]}
","[->]( ( [sCOPE] )pMain ).[nAME] = StateMachine.STATE_UNDEF;
"
deep_hist,"        long [nAME];
","            [nAME] = StateMachine.STATE_UNDEF;
","[->]( ( [sCOPE] )pMain ).[nAME] = lastEnteredState;
","[->]if( ( ( [sCOPE] )pMain ).[nAME] != StateMachine.STATE_UNDEF ){
[->]    BgnTrans( p[tYPE], ( ( [sCOPE] )pMain ).[nAME] );
[->]    ( ( [sCOPE] )pMain ).lastEnteredStateRecovering = true;
[mODIFIER][->]    EndTrans( p[tYPE] );
[->]    bResult |= true;
[->]}else{
[vALUE][->]}
","[->]if ( ( ( [sCOPE] )pMain ).lastEnteredStateRecovering ) {
[->]    nPseudostate = lastEnteredState;
[->]}
"
stm_api,"        public boolean EventProc( [tYPE] p[tYPE], EventId nEventId, EventParams pEventParams ){
            return [cONTAINER].EventProc( p[tYPE], nEventId, pEventParams );
        }
        public boolean StateDefaultTrans( [tYPE] p[tYPE] ){
            boolean bResult;
            while( true ){
                bResult = false;
[mODIFIER]                if( bResult == false ){
                    break;
                }
            }
            return bResult;
        }
        public boolean Reset( [tYPE] p[tYPE] ){
            return [cONTAINER].Reset( p[tYPE], StateMachine.STATE_UNDEF, false );
        }
        public boolean Reset( [tYPE] p[tYPE], long entryPt, boolean lastEnteredStateRecovering ){
            [cONTAINER].Abort( p[tYPE] );
            return [cONTAINER].Reset( p[tYPE], entryPt, lastEnteredStateRecovering );
        }
        public boolean Abort( [tYPE] p[tYPE] ){
            return [cONTAINER].Abort( p[tYPE] );
        }
        public boolean IsFinished(){
            return [cONTAINER].nPseudostate == [sCOPE].[nAME];
        }
","            bHandled |= ( ( [sCOPE] )pMain ).[cONTAINER].EventProc( p[tYPE], nEventId, pEventParams );
","    bHandled |= ( ( [sCOPE] )pMain ).[mODIFIER].EventProc( p[tYPE], nEventId, pEventParams );
","                bResult |= [mODIFIER][cONTAINER].StateDefaultTrans( p[tYPE] );
","[mODIFIER].StateDefaultTrans( p[tYPE] )
[->]        || "
api_call,0,,#error XXXX,#error XXXX,
friend,,,,,
visibility,,,protected ,public ,private 
object,"Sprite* g_objects[] = {
[vALUE]
};
Sprite* getobj( int id ){
    return g_objects[ id ];
}
","
[->]    P( { [vALUE] } )[->64]/* [nAME] */",",
[->]    P( [vALUE] )[->64]/* [nAME] */","[->]&[tYPE]_Ctor( [->64]/* [nAME] */[vALUE]
[->])",",
[->]&[tYPE]_Ctor( [->64]/* [nAME] */[vALUE]
[->])"
