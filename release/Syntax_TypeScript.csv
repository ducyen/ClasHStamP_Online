item,name,ext1st,extnxt,begin,end
file,[container]/[Name].ts,"import { [nAME] } from ""#[container]/[nAME]"";
","import { [nAME] } from ""#[container]/[nAME]"";
","/* File generated by Đức's ClasHStamP */
import type { Integer, long, Boolean, String } from ""#all_notations/java_sample00/stdtype/stdtype"";
",
inheritance, extends [tYPE], implements [nAME],", [nAME]",,
template,<[nAME]>,[nAME],", [nAME]",[nAME],[nAME] extends [tYPE]
class,"
[->]export class [nAME][mODIFIER][tYPE]
[vALUE]",,,"[->]{
","[->]}
"
b_enum,"[->]public  enum [Name] {
","[->][nAME],[->64][dESC]
","[->][nAME],[->64][dESC]
",,"[->]    [nAME]_NUM
[->]};
"
c_enum,"[->]protected  enum [Name] {
","[->][nAME],[->64][dESC]
","[->][nAME],[->64][dESC]
",,"[->]    [nAME]_NUM
[->]};
"
i_enum,"[->]private enum [Name] {
","[->][nAME],[->64][dESC]
","[->][nAME],[->64][dESC]
",,"[->]    [nAME]_NUM
[->]};
"
b_struct,"[->]public static class [Name] {
","[->]public [nAME]: [tYPE][mODIFIER];[->64][dESC]
","[->]public [nAME]: [tYPE][mODIFIER];[->64][dESC]
","[->]public static class [Name] extends [tYPE]{
","[->]};
"
c_struct,"[->]protected static class [Name] {
","[->]public [nAME]: [tYPE][mODIFIER];[->64][dESC]
","[->]public [nAME]: [tYPE][mODIFIER];[->64][dESC]
","[->]protected static class [Name] extends [tYPE]{
","[->]};
"
i_struct,"[->]private static class [Name] {
","[->]public [nAME]: [tYPE][mODIFIER];[->64][dESC]
","[->]public [nAME]: [tYPE][mODIFIER];[->64][dESC]
","[->]private static class [Name] extends [tYPE]{
","[->]};
"
constructor,[->]constructor(,,,"
[->]){","
[->]}[->96]
"
attr_group,,,,,
ctor_call,"
[->]) {
[->]    super( [vALUE] );
",[vALUE],", [vALUE]",_[nAME],[nAME]
__s_attr,"[->][scope][nAME]: [tYPE];[->64][dESC]
","
[->]    _[nAME]: [tYPE]",",
[->]    _[nAME]: [tYPE]","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
__o_attr,"[->][scope][nAME]: [tYPE];[->65][dESC]
","
[->]    _[nAME]: [tYPE]",",
[->]    _[nAME]: [tYPE]","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
__r_attr,"[->][scope][nAME]: [tYPE] | undefined;[->66][dESC]
","
[->]    _[nAME]: [tYPE] | undefined",",
[->]    _[nAME]: [tYPE] | undefined","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
_ms_attr,"[->][scope]ArrayList<[tYPE]> [nAME];[->67][dESC]
","
[->]    _[nAME]: ArrayList<[tYPE]>",",
[->]    _[nAME]: ArrayList<[tYPE]>","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
_mo_attr,"[->][scope]ArrayList<[tYPE]> [nAME];[->67][dESC]
","
[->]    _[nAME]: ArrayList<[tYPE]>",",
[->]    _[nAME]: ArrayList<[tYPE]>","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
_mr_attr,"[->][scope]ArrayList<[tYPE]> [nAME] | undefined;[->67][dESC]
","
[->]    _[nAME]: ArrayList<[tYPE]> | undefined",",
[->]    _[nAME]: ArrayList<[tYPE]> | undefined","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
c_s_attr,"[->][scope]readonly [nAME]: [tYPE];[->64][dESC]
","
[->]    _[nAME]: [tYPE]",",
[->]    _[nAME]: [tYPE]","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
c_o_attr,"[->][scope]readonly [nAME]: [tYPE];[->65][dESC]
","
[->]    _[nAME]: [tYPE]",",
[->]    _[nAME]: [tYPE]","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
c_r_attr,"[->][scope]readonly [nAME]: [tYPE] | undefined;[->66][dESC]
","
[->]    _[nAME]: [tYPE] | undefined",",
[->]    _[nAME]: [tYPE] | undefined","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
cms_attr,"[->][scope]readonly [tYPE][] [nAME];[->64][dESC]
","
[->]    [tYPE][] _[nAME]",",
[->]    [tYPE][] _[nAME]","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
cmo_attr,"[->][scope]readonly [tYPE][] [nAME];[->64][dESC]
","
[->]    [tYPE][] _[nAME]",",
[->]    [tYPE][] _[nAME]","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
cmr_attr,"[->][scope]readonly [tYPE][] [nAME] | undefined;[->64][dESC]
","
[->]    [tYPE][] _[nAME] | undefined",",
[->]    [tYPE][] _[nAME] | undefined","
[->]this.[nAME] = [vALUE];","
[->]this.[nAME] = [vALUE];"
s_s_attr,"[->][scope]static [nAME]: [tYPE] = [vALUE];[->64][dESC]
","[->][scope]static readonly [nAME]: [tYPE] = [vALUE];[->64][dESC]
",,,"[->][scope]static [nAME]: [tYPE];[->64][dESC]
"
s_o_attr,"[->][scope]static [nAME]: [tYPE] = [vALUE];[->64][dESC]
","[->][scope]static readonly [nAME]: [tYPE] = [vALUE];[->64][dESC]
",,,"[->][scope]static [nAME]: [tYPE];[->64][dESC]
"
s_r_attr,"[->][scope]static [nAME]: [tYPE] = [vALUE] | undefined;[->64][dESC]
","[->][scope]static readonly [nAME]: [tYPE] = [vALUE];[->64][dESC]
",,,"[->][scope]static [nAME]: [tYPE];[->64][dESC]
"
sms_attr,"[->][scope]static [tYPE][] [nAME] = [vALUE];[->64][dESC]
","[->][scope]static readonly [tYPE][] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE][] [nAME] = new [tYPE][[mODIFIER]];[->64][dESC]
"
smo_attr,"[->][scope]static [tYPE][] [nAME] = [vALUE];[->64][dESC]
","[->][scope]static readonly [tYPE][] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE][] [nAME] = new [tYPE][[mODIFIER]];;[->64][dESC]
"
smr_attr,"[->][scope]static [tYPE][] [nAME] = [vALUE] | undefined;[->64][dESC]
","[->][scope]static readonly [tYPE][] [nAME] = [vALUE];[->64][dESC]
",,,"[->][scope]static [tYPE][] [nAME] = new [tYPE][[mODIFIER]];;[->64][dESC]
"
p_s_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]set[Name]([tYPE] value): void{
[->]    [vALUE]
[->]}
",return this.[nAME];,this.[nAME] = value;
p_o_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]set[Name]([tYPE] value): void{
[->]    [vALUE]
[->]}
",return this.[nAME];,this.[nAME] = value;
p_r_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]set[Name]([tYPE] value): void{
[->]    [vALUE]
[->]}
",return this.[nAME];,this.[nAME] = value;
pms_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]set[Name]([tYPE] value): void{
[->]    [vALUE]
[->]}
",return this.[nAME];,this.[nAME] = value;
pmo_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]set[Name]([tYPE] value): void{
[->]    [vALUE]
[->]}
",return this.[nAME];,this.[nAME] = value;
pmr_attr,,"[->][sCOPE][tYPE] get[Name](){
[->]    [vALUE]
[->]}
","[->][sCOPE]set[Name]([tYPE] value): void{
[->]    [vALUE]
[->]}
",return this.[nAME];,this.[nAME] = value;
vptr_impl,,,,,
__c_oper,[->]protected [nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */

"
__b_oper,[->][scope][nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */

"
vptr_decl,,,,,
_ac_oper,[->]protected [nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */

"
_ab_oper,[->][scope][nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */
"
l_i_oper,[->]private [nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */
"
l_c_oper,[->]protected [nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */
"
l_b_oper,[->][scope][nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */
"
lai_oper,,,,,
vptr_call,,,,,
s_i_oper,[->]private static[nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */
"
s_c_oper,[->]protected static[nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */
"
s_b_oper,[->][scope]static[nAME](,"
[->][nAME]: [tYPE]",",
[->][nAME]: [tYPE]","
[->]): [tYPE] {
","[->]} /* [Container].[nAME] */
"
sai_oper,,,,,
sab_oper,,,,,
event_decl,,"[->]public static readonly [nAME] = [vALUE];
","[->]public static readonly [nAME] = [vALUE];
",,"[->]public Start(): boolean{
[->]    mainStm.Prepare( null );
[->]    let bResult: boolean = mainStm.Reset( this );
[->]    bResult |= mainStm.StateDefaultTrans( this );
[->]    return bResult;
[->]}
[->]public EventProc( nEventId: number, pEventParams: EventParams ): boolean{
[->]    let bResult: boolean = mainStm.EventProc( this, nEventId, pEventParams );
[->]    bResult |= mainStm.StateDefaultTrans( this );
[->]    return bResult;
[->]}"
state_decl,"        public static readonly [nAME]: long [->48] = ( 1 << [vALUE] );
",        public static readonly [nAME]: long [->48] = ( [vALUE], | [vALUE],"/* states' declaration */
[vALUE]"," );
"
state_entry,"        EndTrans( p[tYPE]: [tYPE] ): void{
            nCurrentState = nTargetState;
            bIsExternTrans = false;
","            if( nCurrentState == [sCOPE].[nAME] ) [->32]{ [nAME]_Entry( p[tYPE] ); }
","            else if( nCurrentState == [sCOPE].[nAME] ) [->32]{ [nAME]_Entry( p[tYPE] ); }
","            else {}
","        }
"
state_exit,"        BgnTrans( p[tYPE]: [tYPE], targetState: long ): void{
            nTargetState = targetState;
            nPseudostate = targetState;
","            if( nCurrentState == [sCOPE].[nAME] ) [->32]{ [nAME]_Exit( p[tYPE] ); }
","            else if( nCurrentState == [sCOPE].[nAME] ) [->32]{ [nAME]_Exit( p[tYPE] ); }
","            else {}
","        }
"
state_impl,"        public Reset(  p[tYPE]: [tYPE] ): boolean {
            return Reset( p[tYPE], StateMachine.STATE_UNDEF, false );
        }
        public Reset(  p[tYPE]: [tYPE], lastEnteredStateRecovering: boolean ): boolean {
            return Reset( p[tYPE], StateMachine.STATE_UNDEF, lastEnteredStateRecovering );
        }
        public Reset(  p[tYPE]: [tYPE], entryPt: long ): boolean {
            return Reset( p[tYPE], entryPt, false );
        }
        public Reset( p[tYPE]: [tYPE], entryPt: long, lastEnteredStateRecovering: boolean ): boolean {
            if( entryPt != StateMachine.STATE_UNDEF ){
                Req( entryPt );
                return false;
            }
            nPseudostate = [sCOPE].[nAME];
            bIsExternTrans = true;
            BgnTrans( p[tYPE], nPseudostate );
            EndTrans( p[tYPE] );
            return true;
        }
        public EventProc( p[tYPE]: [tYPE], nEventId: number, pEventParams: EventParams ): boolean{
            let bResult: boolean = false;
            nLCAState = StateMachine.STATE_UNDEF;
            bHandled = false;
            wasHandled = false;
","            if( nCurrentState == [sCOPE].[nAME] ) [->32]{ [nAME]_EventProc( p[tYPE], nEventId, pEventParams ); }
","            else if( nCurrentState == [sCOPE].[nAME] ) [->32]{ [nAME]_EventProc( p[tYPE], nEventId, pEventParams ); }
","            else {}
","            return bResult;
        }
        Abort( p[tYPE]: [tYPE] ): boolean {
            nSourceState = [sCOPE].[nAME];
            BgnTrans( p[tYPE], StateMachine.STATE_UNDEF );
            EndTrans( p[tYPE] );
            return true;
        }
"
transition,"        [nAME]_Entry( p[tYPE]: [tYPE] ): void{
            if( Enterable( [sCOPE].[nAME] ) ){
                [cONTAINER]_Entry( p[tYPE] );
                DefaultEntryAction( p[tYPE], ""[dESC]"" );
[vALUE]            }
        }
        [nAME]_EventProc( p[tYPE]: [tYPE], nEventId: number, pEventParams: EventParams ): boolean{
            let bResult: boolean = false;
[mODIFIER]            if( !bHandled ){
                nSourceState = [sCOPE].[nAME];
                DefaultDoingAction( p[tYPE], ""[dESC]"" );
","                switch( nEventId ){
                case [tYPE].EventId.[nAME]:{
","                } break;
                case [tYPE].EventId.[nAME]:{
","                } break;
                default: break;
                }
","            }
            bHandled |= bResult;
            wasHandled |= bResult;
            return [cONTAINER]_EventProc( p[tYPE], nEventId, pEventParams );
        }
        [nAME]_Exit( p[tYPE]: [tYPE] ): void{
            if( Exitable( [sCOPE].[nAME] ) ){ 
[vALUE]                 DefaultExitAction( p[tYPE], ""[dESC]"" );
                [cONTAINER]_Exit( p[tYPE] );
            }
        }
"
trans_top,"        [nAME]_Entry( p[tYPE]: [tYPE] ): void{
            if( Enterable( [sCOPE].[nAME] ) ){
[vALUE]            }
        }
        [nAME]_EventProc( p[tYPE]: [tYPE], nEventId: number, pEventParams: EventParams ): boolean{
            let bResult: boolean = false;
[mODIFIER]            if( !bHandled ){
                nSourceState = [sCOPE].[nAME];
","                switch( nEventId ){
                case [tYPE].EventId.[nAME]:{
","                } break;
                case [tYPE].EventId.[nAME]:{
","                } break;
                default: break;
                }
","            }
            bHandled |= bResult;
            wasHandled |= bResult;
            return bHandled;
        }
        [nAME]_Exit( p[tYPE]: [tYPE] ): void{
            if( Exitable( [sCOPE].[nAME] ) ){ 
[vALUE]            }
        }
"
branch,"[->]else {
","[->]if ([nAME]) {
","[->]} else if ([nAME]) {
","[->]} else {
","[->]}
"
comment,/**< [nAME] [->32]*/," * [nAME]
"," * [nAME]
","/**
"," */
"
action,"[->][nAME]Params* e = ( [nAME]Params* )pEventParams;
","[->][nAME]
","[->][nAME]
",,
param_dir,,,,,/
statemachine,,"    mainStm: [tYPE][mODIFIER];[->64][dESC]
","    mainStm = new [tYPE]();
","class [nAME] extends BaseStmTop {
        protected pParentStm: StateMachine = null;
        protected lastEnteredStateRecovering: boolean = false;
[vALUE]
","
        public Prepare( StateMachine pParent ): void{
            pParentStm = pParent;
[vALUE]        }
} /* [nAME] */
"
default_trans,"        StateDefaultTrans( p[tYPE]: [tYPE] ): boolean{
            let bResult: boolean = false;
            nSourceState = nCurrentState;
            nLCAState = StateMachine.STATE_UNDEF;
", nPseudostate == [cONTAINER].[nAME] [mODIFIER] , nCurrentState == [sCOPE].[vALUE] && nPseudostate == [cONTAINER].[nAME] [mODIFIER] ,"            }else if( nCurrentState != nPseudostate ){
                BgnTrans( p[tYPE], nPseudostate );
                EndTrans( p[tYPE] );
                bResult = true;
            }else{
            }
","            bHandled |= bResult;
            wasHandled |= bResult;
            ( pMain as [sCOPE] ).lastEnteredStateRecovering = false;
            return bResult;
        }
"
substm,"    [cONTAINER] [nAME] = new [cONTAINER]();[->64][dESC]
","    [nAME].Prepare( [mODIFIER] );
","
[->] && ( pMain as [sCOPE] ).[mODIFIER].IsFinished()","[->]( pMain as [sCOPE] ).[mODIFIER].Reset( p[tYPE], [cONTAINER].[nAME], ( pMain as [sCOPE] ).lastEnteredStateRecovering );
","[->]( pMain as [sCOPE] ).pParentStm.Req( [sCOPE].[nAME] );
"
region,"        _[cONTAINER] [nAME] = new _[cONTAINER]();[->64][dESC]
","            [nAME].pMain = this;
","
[->] && ( pMain as [sCOPE] ).[cONTAINER].nPseudostate == [sCOPE]_[vALUE]","[->]( pMain as [sCOPE] ).[mODIFIER].Reset( p[tYPE], [sCOPE].[nAME] );
","class _[nAME] extends StateMachine {
[vALUE]}
"
state_action,"[->]if( !( pMain as [sCOPE] ).lastEnteredStateRecovering && nTargetState == [sCOPE].[nAME] ){
[->]    nPseudostate = [sCOPE].[mODIFIER];
[->]}
","[->]bIsExternTrans = true;
",[->][nAME],"[->]( pMain as [sCOPE] ).[mODIFIER].Reset( p[tYPE] );
","[->]( pMain as [sCOPE] ).[mODIFIER].Abort( p[tYPE] );
"
trans_action,"[->][nAME]Params* e = ( [nAME]Params* )pEventParams; // need merge from ""action"" ★
",( pMain as [sCOPE] ).[mODIFIER].IsIn( [sCOPE].[vALUE] ),"
[->] && HdStateMachine_IsIn( &( pMain as [sCOPE] ).[mODIFIER], [sCOPE].[vALUE] )","[->]BgnTrans( p[tYPE], [sCOPE].[nAME] );
[mODIFIER][->]EndTrans( p[tYPE] );
[->]bResult |= true;
","[mODIFIER][->]bResult |= true; // internal transition
"
history,"        long [nAME];
","            [nAME] = StateMachine.STATE_UNDEF;
","[->]( pMain as [sCOPE] ).[nAME] = [sCOPE].[vALUE];
","[->]if( pMain as [sCOPE].[nAME] != StateMachine.STATE_UNDEF ){
[->]    BgnTrans( p[tYPE], ( pMain as [sCOPE] ).[nAME] );
[mODIFIER][->]    EndTrans( p[tYPE] );
[->]    bResult |= true;
[->]}else{
[vALUE][->]}
","[->]( pMain as [sCOPE] ).[nAME] = StateMachine.STATE_UNDEF;
"
deep_hist,"        long [nAME];
","            [nAME] = StateMachine.STATE_UNDEF;
","[->]( pMain as [sCOPE] ).[nAME] = lastEnteredState;
","[->]if( pMain as [sCOPE].[nAME] != StateMachine.STATE_UNDEF ){
[->]    BgnTrans( p[tYPE], ( pMain as [sCOPE] ).[nAME] );
[->]    ( pMain as [sCOPE] ).lastEnteredStateRecovering = true;
[mODIFIER][->]    EndTrans( p[tYPE] );
[->]    bResult |= true;
[->]}else{
[vALUE][->]}
","[->]if ( pMain as [sCOPE].lastEnteredStateRecovering ) {
[->]    nPseudostate = lastEnteredState;
[->]}
"
stm_api,"        public EventProc( p[tYPE]: [tYPE], nEventId: number, pEventParams: EventParams ): boolean{
            return [cONTAINER].EventProc( p[tYPE], nEventId, pEventParams );
        }
        public StateDefaultTrans( p[tYPE]: [tYPE] ): boolean{
            let bResult: boolean;
            while( true ){
                bResult = false;
[mODIFIER]                if( bResult == false ){
                    break;
                }
            }
            return bResult;
        }
        public Reset( p[tYPE]: [tYPE] ): boolean{
            return [cONTAINER].Reset( p[tYPE], StateMachine.STATE_UNDEF, false );
        }
        public Reset( p[tYPE]: [tYPE], entryPt: long, lastEnteredStateRecovering: boolean ): boolean{
            [cONTAINER].Abort( p[tYPE] );
            return [cONTAINER].Reset( p[tYPE], entryPt, lastEnteredStateRecovering );
        }
        public Abort( p[tYPE]: [tYPE] ): boolean{
            return [cONTAINER].Abort( p[tYPE] );
        }
        public IsFinished(): boolean{
            return [cONTAINER].nPseudostate == [sCOPE].[nAME];
        }
","            bHandled |= ( pMain as [sCOPE] ).[cONTAINER].EventProc( p[tYPE], nEventId, pEventParams );
","    bHandled |= ( pMain as [sCOPE] ).[mODIFIER].EventProc( p[tYPE], nEventId, pEventParams );
","                bResult |= [mODIFIER][cONTAINER].StateDefaultTrans( p[tYPE] );
","[mODIFIER].StateDefaultTrans( p[tYPE] )
[->]        || "
api_call,0,,#error XXXX,#error XXXX,
friend,,,,,
visibility,,,protected ,public ,private 
object,"Sprite* g_objects[] = {
[vALUE]
};
Sprite* getobj( int id ){
    return g_objects[ id ];
}
","
[->]    P( { [vALUE] } )[->64]/* [nAME] */",",
[->]    P( [vALUE] )[->64]/* [nAME] */","[->]&[tYPE]_Ctor( [->64]/* [nAME] */[vALUE]
[->])",",
[->]&[tYPE]_Ctor( [->64]/* [nAME] */[vALUE]
[->])"
