/* File generated by Đức's ClasHStamP */
#define __ObjsBuilder_INTERNAL__
#include "CommonInclude.h"
#include "ObjsBuilder.h"
#include "Primitive.h"                                          
#include "TranslationConstraint.h"                              
#include "AttachmentConstraint.h"                               
#include "RotationConstraint.h"                                 
#include "TrackToConstraint.h"                                  
#include "FlexButton.h"                                         
#include "EventListener.h"                                      
#include "PhxSprite.h"                                          
#include "ImgSprite.h"                                          
#include "PhxSimpleMotor.h"                                     
#include "PhxDampedSpring.h"                                    
#include "PhxDampedRotarySpring.h"                              
#include "PhxRotaryLimitJoint.h"                                
#include "PhxRatchetJoint.h"                                    
#include "PhxGearJoint.h"                                       
#include "PhxSlideJoint.h"                                      
#include "PhxPinJoint.h"                                        
#include "PhxPivotJoint.h"                                      
#include "PhxGrooveJoint.h"                                     
#include "ClawMachine.h"                                        
/** @private @static @memberof ObjsBuilder */
static int hardwareAccelerationAvailable = SDL_RENDERER_SOFTWARE;
/** @private @static @memberof ObjsBuilder */
static int SCREEN_WIDTH = 640;                                  
/** @private @static @memberof ObjsBuilder */
static int SCREEN_HEIGHT = 480;                                 
/** @private @static @memberof ObjsBuilder */
static float g_x = 0;                                           
/** @private @static @memberof ObjsBuilder */
static float g_y = 0;                                           
Sprite* g_objects[] = {
    &PhxSprite_Ctor(                                            /* right_wall */
        P( { 0.7326234961720923, 0.5664198133680556, 0.02071633169176941, 0.3428819444444444 } )/* m_iniRect */,
        P( "right_wall" )                                       /* m_name */,
        P( "GreenLight.png" )                                   /* m_imgPath */,
        P( (cpVect[]){ {-0.3550601538608887, -0.3550601874149086}, {-0.3550601538608887, 0.355059497007792}, {0.3550589579229123, 0.355059497007792}, {0.3550589579229123, -0.3550601874149086} } )/* m_verts */,
        P( 4 )                                                  /* m_vertsCnt */,
        P( { 0.5000000827599591, 0.5000002068998795 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 100 )                                                /* m_mass */,
        P( 0 )                                                  /* m_group */,
        P( null )                                               /* m_joints */,
        P( true )                                               /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* left_wall */
        P( { 0.037840565085771945, 0.1636420355902778, 0.020181634712411706, 0.6692708333333334 } )/* m_iniRect */,
        P( "left_wall" )                                        /* m_name */,
        P( "GreenLight.png" )                                   /* m_imgPath */,
        P( (cpVect[]){ {-0.3550601538608887, -0.3550601874149086}, {-0.3550601538608887, 0.355059497007792}, {0.3550589579229123, 0.355059497007792}, {0.3550589579229123, -0.3550601874149086} } )/* m_verts */,
        P( 4 )                                                  /* m_vertsCnt */,
        P( { 0.5000000827599591, 0.5000002068998795 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 100 )                                                /* m_mass */,
        P( 0 )                                                  /* m_group */,
        P( null )                                               /* m_joints */,
        P( true )                                               /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* floor */
        P( { 0.041907048139801714, 0.8363850911458334, 0.6881937436932392, 0.0763888888888889 } )/* m_iniRect */,
        P( "floor" )                                            /* m_name */,
        P( "GreenLight.png" )                                   /* m_imgPath */,
        P( (cpVect[]){ {-0.3550601538608887, -0.3550601874149086}, {-0.3550601538608887, 0.355059497007792}, {0.3550589579229123, 0.355059497007792}, {0.3550589579229123, -0.3550601874149086} } )/* m_verts */,
        P( 4 )                                                  /* m_vertsCnt */,
        P( { 0.5000000827599591, 0.5000002068998795 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 100 )                                                /* m_mass */,
        P( 0 )                                                  /* m_group */,
        P( null )                                               /* m_joints */,
        P( true )                                               /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* arm_main */
        P( { 0.1919238661687288, 0.5482810691550927, 0.07996972754793141, 0.17766421589134326 } )/* m_iniRect */,
        P( "arm_main" )                                         /* m_name */,
        P( "crane_game_arm_main.png" )                          /* m_imgPath */,
        P( (cpVect[]){ {-3.1926492581315323E-4, -0.1190465964984088}, {-0.2002184598892388, -0.09389529885928433}, {-0.35014269150822924, -0.014002882029533792}, {-0.42126065533903506, 0.09843828782721661}, {-0.4193385244818308, 0.20792044174238228}, {-0.3155447750214285, 0.31592308768675553}, {-0.16946480511684667, 0.3854591176531324}, {0.0035247773171570903, 0.4032129599043815}, {0.21495631848093183, 0.37510264632367224}, {0.34181541875634736, 0.3055667008233819}, {0.42446572878750227, 0.20348200229609162}, {0.42446572878750227, 0.09843828782721661}, {0.36103628838551366, -0.012523374058741415}, {0.21687822986669777, -0.08797726697611483} } )/* m_verts */,
        P( 14 )                                                 /* m_vertsCnt */,
        P( { 0.4962441659617662, 0.5548634937432122 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 1 )                                                  /* m_mass */,
        P( 3 )                                                  /* m_group */,
        P( &PhxGrooveJoint_Ctor( &arm_main_hanger, 1, &arm_main, &arm_main_hanger, null, &PhxRotaryLimitJoint_Ctor( &arm_main_hanger, 1, -15.0, 15.0, null ) ) )/* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* arm_right */
        P( { 0.23842571615191074, 0.6684705946180556, 0.05247225025227043, 0.12760416666666666 } )/* m_iniRect */,
        P( "arm_right" )                                        /* m_name */,
        P( "crane_game_arm_right.png" )                         /* m_imgPath */,
        P( (cpVect[]){ {0.398088255467127, 0.4417650098241738}, {-0.014342014072687443, 0.7262942311487416}, {-0.21345563045731575, 0.7834971735929389}, {0.09426500593972519, 0.8268927422346846}, {0.7338415548195766, 0.426470906371618}, {0.09426500593972519, -0.07652198690001114}, {-0.11993315799850907, -0.08243951325389856}, {-0.17725374975279162, 0.018159110446015824} } )/* m_verts */,
        P( 8 )                                                  /* m_vertsCnt */,
        P( { 0.24998748188824554, 0.1266524459703037 } )        /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 1 )                                                  /* m_mass */,
        P( 2 )                                                  /* m_group */,
        P( &PhxPivotJoint_Ctor( &arm_main, 1, null, &PhxRotaryLimitJoint_Ctor( &arm_main, 1, -30.0, 30.0, null ) ) )/* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* arm_left */
        P( { 0.173339944204383, 0.664761629971591, 0.05247225025227043, 0.1313131313131313 } )/* m_iniRect */,
        P( "arm_left" )                                         /* m_name */,
        P( "crane_game_arm_left.png" )                          /* m_imgPath */,
        P( (cpVect[]){ {-0.38736458617796354, 0.43389116175850206}, {0.18797707456724497, 0.009448031618256868}, {0.13065648281296244, -0.0913494190161002}, {-0.08354168112527184, -0.08542019703874247}, {-0.7231182300051232, 0.41856683045995113}, {-0.08354133665056178, 0.8197799623863198}, {0.22417929974647915, 0.7762986250972099}, {0.025065683361850864, 0.7189826245885086} } )/* m_verts */,
        P( 8 )                                                  /* m_vertsCnt */,
        P( { 0.7355189602774695, 0.1269027666670069 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 1 )                                                  /* m_mass */,
        P( 1 )                                                  /* m_group */,
        P( &PhxPivotJoint_Ctor( &arm_main, 1, null, &PhxRotaryLimitJoint_Ctor( &arm_main, 1, -30.0, 30.0, null ) ) )/* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &FlexButton_Ctor(                                           /* leftButton */
        P( { 0.7896155297399793, 0.8616387907159392, 0.02071633169176941, 0.03475122219178742 } )/* m_iniRect */,
        P( "leftButton" )                                       /* m_name */,
        P( "FlexButton.png" )                                   /* m_imgPath */,
        P( 1 )                                                  /* m_valueMax */,
        P( FlexBtnStm_PushStyle )                               /* m_style */,
        P( &EventListener_Ctor( SDL_MOUSEBUTTONDOWN | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_DOWN, &EventListener_Ctor( SDL_MOUSEBUTTONUP | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_UP, &EventListener_Ctor( SDL_MOUSEMOTION | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_MOVE, null ) ) ) )/* m_mouseListeners */,
        P( &EventListener_Ctor( MDD_ON_MOUSE_DOWN, ClawMachine_EventProc, &clawMachine, ClawMachine_LeftBtnDown, &EventListener_Ctor( MDD_ON_MOUSE_UP, ClawMachine_EventProc, &clawMachine, ClawMachine_LeftBtnUp, null ) ) )/* m_buttonListeners */
    ),
    &PhxSprite_Ctor(                                            /* prize0 */
        P( { 0.41328345422118196, 0.5459790967638936, 0.0854353646313441, 0.21217160307898272 } )/* m_iniRect */,
        P( "prize0" )                                           /* m_name */,
        P( "crane_game_prize.png" )                             /* m_imgPath */,
        P( (cpVect[]){ {0.1430868630187795, -0.5102329444968342}, {-0.04205559151889127, -0.5232512808940586}, {-0.1990753109343908, -0.50209636811794}, {-0.28110044563340936, -0.5525425842400652}, {-0.40765355647121115, -0.5167420197909434}, {-0.43108907987435036, -0.4223590344588144}, {-0.36312531273641746, -0.38004939471558336}, {-0.42874547401483437, -0.21894722631254707}, {-0.30219209558102206, -0.07411802485829294}, {-0.4849912118551873, 0.11464813161497109}, {-0.46858623843458563, 0.17485823939176925}, {-0.3771869478935135, 0.18136694306786613}, {-0.2740693604588509, 0.11139368687241957}, {-0.2459463577406692, 0.3082962339155716}, {-0.17095204062019867, 0.4319705225937071}, {-0.07252166490456805, 0.4254608898725795}, {0.014190949109492972, 0.26273140619376445}, {0.15011794819333796, 0.41081523819957627}, {0.24151750633042054, 0.4026786618206821}, {0.2649530297335597, 0.28388631896988303}, {0.27432745317162377, 0.1048836825332797}, {0.41259859330700566, 0.15858452920696256}, {0.49696760146155067, 0.15207526810384725}, {0.5063414897075939, 0.09511997668761289}, {0.2977635117667839, -0.0920188645098723}, {0.4008805640094256, -0.2108113931696775}, {0.3188556969064175, -0.4028321801944992}, {0.38681919644834, -0.4500237657650667}, {0.3657270113087064, -0.5313884146999712}, {0.22745613876933493, -0.5623070333217566} } )/* m_verts */,
        P( 30 )                                                 /* m_vertsCnt */,
        P( { 0.4892497485520256, 0.5659436742635782 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 1 )                                                  /* m_mass */,
        P( 0 )                                                  /* m_group */,
        P( null )                                               /* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* prize1 */
        P( { 0.5385435535133326, 0.5623847930785644, 0.0854353646313441, 0.21217160307898272 } )/* m_iniRect */,
        P( "prize1" )                                           /* m_name */,
        P( "crane_game_prize.png" )                             /* m_imgPath */,
        P( (cpVect[]){ {0.1430868630187795, -0.5102329444968342}, {-0.04205559151889127, -0.5232512808940586}, {-0.1990753109343908, -0.50209636811794}, {-0.28110044563340936, -0.5525425842400652}, {-0.40765355647121115, -0.5167420197909434}, {-0.43108907987435036, -0.4223590344588144}, {-0.36312531273641746, -0.38004939471558336}, {-0.42874547401483437, -0.21894722631254707}, {-0.30219209558102206, -0.07411802485829294}, {-0.4849912118551873, 0.11464813161497109}, {-0.46858623843458563, 0.17485823939176925}, {-0.3771869478935135, 0.18136694306786613}, {-0.2740693604588509, 0.11139368687241957}, {-0.2459463577406692, 0.3082962339155716}, {-0.17095204062019867, 0.4319705225937071}, {-0.07252166490456805, 0.4254608898725795}, {0.014190949109492972, 0.26273140619376445}, {0.15011794819333796, 0.41081523819957627}, {0.24151750633042054, 0.4026786618206821}, {0.2649530297335597, 0.28388631896988303}, {0.27432745317162377, 0.1048836825332797}, {0.41259859330700566, 0.15858452920696256}, {0.49696760146155067, 0.15207526810384725}, {0.5063414897075939, 0.09511997668761289}, {0.2977635117667839, -0.0920188645098723}, {0.4008805640094256, -0.2108113931696775}, {0.3188556969064175, -0.4028321801944992}, {0.38681919644834, -0.4500237657650667}, {0.3657270113087064, -0.5313884146999712}, {0.22745613876933493, -0.5623070333217566} } )/* m_verts */,
        P( 30 )                                                 /* m_vertsCnt */,
        P( { 0.4892497485520256, 0.5659436742635782 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 1 )                                                  /* m_mass */,
        P( 0 )                                                  /* m_group */,
        P( null )                                               /* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* prize2 */
        P( { 0.32461822556176845, 0.5623847930785644, 0.0854353646313441, 0.21217160307898272 } )/* m_iniRect */,
        P( "prize2" )                                           /* m_name */,
        P( "crane_game_prize.png" )                             /* m_imgPath */,
        P( (cpVect[]){ {0.1430868630187795, -0.5102329444968342}, {-0.04205559151889127, -0.5232512808940586}, {-0.1990753109343908, -0.50209636811794}, {-0.28110044563340936, -0.5525425842400652}, {-0.40765355647121115, -0.5167420197909434}, {-0.43108907987435036, -0.4223590344588144}, {-0.36312531273641746, -0.38004939471558336}, {-0.42874547401483437, -0.21894722631254707}, {-0.30219209558102206, -0.07411802485829294}, {-0.4849912118551873, 0.11464813161497109}, {-0.46858623843458563, 0.17485823939176925}, {-0.3771869478935135, 0.18136694306786613}, {-0.2740693604588509, 0.11139368687241957}, {-0.2459463577406692, 0.3082962339155716}, {-0.17095204062019867, 0.4319705225937071}, {-0.07252166490456805, 0.4254608898725795}, {0.014190949109492972, 0.26273140619376445}, {0.15011794819333796, 0.41081523819957627}, {0.24151750633042054, 0.4026786618206821}, {0.2649530297335597, 0.28388631896988303}, {0.27432745317162377, 0.1048836825332797}, {0.41259859330700566, 0.15858452920696256}, {0.49696760146155067, 0.15207526810384725}, {0.5063414897075939, 0.09511997668761289}, {0.2977635117667839, -0.0920188645098723}, {0.4008805640094256, -0.2108113931696775}, {0.3188556969064175, -0.4028321801944992}, {0.38681919644834, -0.4500237657650667}, {0.3657270113087064, -0.5313884146999712}, {0.22745613876933493, -0.5623070333217566} } )/* m_verts */,
        P( 30 )                                                 /* m_vertsCnt */,
        P( { 0.4892497485520256, 0.5659436742635782 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 1 )                                                  /* m_mass */,
        P( 0 )                                                  /* m_group */,
        P( null )                                               /* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* arm_main_hanger */
        P( { 0.22202813794807624, 0.12593587239583331, 0.020181634712411706, 0.034722222222222224 } )/* m_iniRect */,
        P( "arm_main_hanger" )                                  /* m_name */,
        P( "GreenLight.png" )                                   /* m_imgPath */,
        P( (cpVect[]){ {-0.3550601538608887, -0.3550601874149086}, {-0.3550601538608887, 0.355059497007792}, {0.3550589579229123, 0.355059497007792}, {0.3550589579229123, -0.3550601874149086} } )/* m_verts */,
        P( 4 )                                                  /* m_vertsCnt */,
        P( { 0.5000000827599591, 0.5000002068998795 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 10 )                                                 /* m_mass */,
        P( 3 )                                                  /* m_group */,
        P( &PhxGrooveJoint_Ctor( null, 1, &home_position, &gate_position, null, &PhxRotaryLimitJoint_Ctor( null, 1, -15.0, 15.0, null ) ) )/* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &ImgSprite_Ctor(                                            /* gate_position */
        P( { 0.8219272297745142, 0.1253933376736111, 0.020181634712411706, 0.034722222222222224 } )/* m_iniRect */,
        P( "gate_position" )                                    /* m_name */,
        P( "RedLight.png" )                                     /* m_imgPath */,
        P( { 0.0, 0.0 } )                                       /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( null )                                               /* m_constraints */,
        P( null )                                               /* m_mouseListeners */,
        P( null )                                               /* m_onDrawListeners */
    ),
    &ClawMachine_Ctor(                                          /* clawMachine */
        P( { 0.821422688906704, 0.3751220703125, 0.14631685166498487, 0.3026258680555556 } )/* m_iniRect */,
        P( "clawMachine" )                                      /* m_name */,
        P( "ClawMachine.png" )                                  /* m_imgPath */,
        P( 10.0 )                                               /* braking_force */,
        P( 0.5 )                                                /* braking_decrement */
    ),
    &FlexButton_Ctor(                                           /* rightButton */
        P( { 0.8620231507096585, 0.8617938006365742, 0.02071633169176941, 0.03475122219178742 } )/* m_iniRect */,
        P( "rightButton" )                                      /* m_name */,
        P( "FlexButton.png" )                                   /* m_imgPath */,
        P( 1 )                                                  /* m_valueMax */,
        P( FlexBtnStm_PushStyle )                               /* m_style */,
        P( &EventListener_Ctor( SDL_MOUSEBUTTONDOWN | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_DOWN, &EventListener_Ctor( SDL_MOUSEBUTTONUP | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_UP, &EventListener_Ctor( SDL_MOUSEMOTION | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_MOVE, null ) ) ) )/* m_mouseListeners */,
        P( &EventListener_Ctor( MDD_ON_MOUSE_DOWN, ClawMachine_EventProc, &clawMachine, ClawMachine_RightBtnDown, &EventListener_Ctor( MDD_ON_MOUSE_UP, ClawMachine_EventProc, &clawMachine, ClawMachine_RightBtnUp, null ) ) )/* m_buttonListeners */
    ),
    &ImgSprite_Ctor(                                            /* home_position */
        P( { 0.1110291470298118, 0.1253933376736111, 0.020181634712411706, 0.034722222222222224 } )/* m_iniRect */,
        P( "home_position" )                                    /* m_name */,
        P( "RedLight.png" )                                     /* m_imgPath */,
        P( { 0.0, 0.0 } )                                       /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( null )                                               /* m_constraints */,
        P( null )                                               /* m_mouseListeners */,
        P( null )                                               /* m_onDrawListeners */
    ),
    &FlexButton_Ctor(                                           /* clawButton */
        P( { 0.9341724948065305, 0.8615044487847222, 0.02071633169176941, 0.03475122219178742 } )/* m_iniRect */,
        P( "clawButton" )                                       /* m_name */,
        P( "FlexButton.png" )                                   /* m_imgPath */,
        P( 1 )                                                  /* m_valueMax */,
        P( FlexBtnStm_PushStyle )                               /* m_style */,
        P( &EventListener_Ctor( SDL_MOUSEBUTTONDOWN | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_DOWN, &EventListener_Ctor( SDL_MOUSEBUTTONUP | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_UP, &EventListener_Ctor( SDL_MOUSEMOTION | SDL_BUTTON_LEFT, FlexButton_EventProc, null, FlexButton_MOUSE_MOVE, null ) ) ) )/* m_mouseListeners */,
        P( &EventListener_Ctor( MDD_ON_CLICK, ClawMachine_EventProc, &clawMachine, ClawMachine_ClawBtnPressed, null ) )/* m_buttonListeners */
    ),
    &PhxSprite_Ctor(                                            /* prize3 */
        P( { 0.3594315454406786, 0.3163655598958333, 0.0854353646313441, 0.21217160307898272 } )/* m_iniRect */,
        P( "prize3" )                                           /* m_name */,
        P( "crane_game_prize.png" )                             /* m_imgPath */,
        P( (cpVect[]){ {0.1430868630187795, -0.5102329444968342}, {-0.04205559151889127, -0.5232512808940586}, {-0.1990753109343908, -0.50209636811794}, {-0.28110044563340936, -0.5525425842400652}, {-0.40765355647121115, -0.5167420197909434}, {-0.43108907987435036, -0.4223590344588144}, {-0.36312531273641746, -0.38004939471558336}, {-0.42874547401483437, -0.21894722631254707}, {-0.30219209558102206, -0.07411802485829294}, {-0.4849912118551873, 0.11464813161497109}, {-0.46858623843458563, 0.17485823939176925}, {-0.3771869478935135, 0.18136694306786613}, {-0.2740693604588509, 0.11139368687241957}, {-0.2459463577406692, 0.3082962339155716}, {-0.17095204062019867, 0.4319705225937071}, {-0.07252166490456805, 0.4254608898725795}, {0.014190949109492972, 0.26273140619376445}, {0.15011794819333796, 0.41081523819957627}, {0.24151750633042054, 0.4026786618206821}, {0.2649530297335597, 0.28388631896988303}, {0.27432745317162377, 0.1048836825332797}, {0.41259859330700566, 0.15858452920696256}, {0.49696760146155067, 0.15207526810384725}, {0.5063414897075939, 0.09511997668761289}, {0.2977635117667839, -0.0920188645098723}, {0.4008805640094256, -0.2108113931696775}, {0.3188556969064175, -0.4028321801944992}, {0.38681919644834, -0.4500237657650667}, {0.3657270113087064, -0.5313884146999712}, {0.22745613876933493, -0.5623070333217566} } )/* m_verts */,
        P( 30 )                                                 /* m_vertsCnt */,
        P( { 0.4892497485520256, 0.5659436742635782 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 1 )                                                  /* m_mass */,
        P( 0 )                                                  /* m_group */,
        P( null )                                               /* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &PhxSprite_Ctor(                                            /* prize4 */
        P( { 0.4815304354507694, 0.2885877821180556, 0.0854353646313441, 0.21217160307898272 } )/* m_iniRect */,
        P( "prize4" )                                           /* m_name */,
        P( "crane_game_prize.png" )                             /* m_imgPath */,
        P( (cpVect[]){ {0.1430868630187795, -0.5102329444968342}, {-0.04205559151889127, -0.5232512808940586}, {-0.1990753109343908, -0.50209636811794}, {-0.28110044563340936, -0.5525425842400652}, {-0.40765355647121115, -0.5167420197909434}, {-0.43108907987435036, -0.4223590344588144}, {-0.36312531273641746, -0.38004939471558336}, {-0.42874547401483437, -0.21894722631254707}, {-0.30219209558102206, -0.07411802485829294}, {-0.4849912118551873, 0.11464813161497109}, {-0.46858623843458563, 0.17485823939176925}, {-0.3771869478935135, 0.18136694306786613}, {-0.2740693604588509, 0.11139368687241957}, {-0.2459463577406692, 0.3082962339155716}, {-0.17095204062019867, 0.4319705225937071}, {-0.07252166490456805, 0.4254608898725795}, {0.014190949109492972, 0.26273140619376445}, {0.15011794819333796, 0.41081523819957627}, {0.24151750633042054, 0.4026786618206821}, {0.2649530297335597, 0.28388631896988303}, {0.27432745317162377, 0.1048836825332797}, {0.41259859330700566, 0.15858452920696256}, {0.49696760146155067, 0.15207526810384725}, {0.5063414897075939, 0.09511997668761289}, {0.2977635117667839, -0.0920188645098723}, {0.4008805640094256, -0.2108113931696775}, {0.3188556969064175, -0.4028321801944992}, {0.38681919644834, -0.4500237657650667}, {0.3657270113087064, -0.5313884146999712}, {0.22745613876933493, -0.5623070333217566} } )/* m_verts */,
        P( 30 )                                                 /* m_vertsCnt */,
        P( { 0.4892497485520256, 0.5659436742635782 } )         /* m_center */,
        P( 0.0 )                                                /* m_angle */,
        P( 1 )                                                  /* m_mass */,
        P( 0 )                                                  /* m_group */,
        P( null )                                               /* m_joints */,
        P( false )                                              /* m_isStaticBody */
    ),
    &Primitive_Ctor(                                            /* Text_6xj */
        P( { 0.7800201816347124, 0.9261203342013888, 0.04036326942482341, 0.030056423611111112 } )/* 6xj-91a7c503fd456f398eb812c8f82c654c */,
        P( "Text_6xj" )                                         /* Text_6xj */,
        P( "Text 000000 line 2 null 000000 null Monospaced 8 Left" )/* Text_6xj */
    ),
    &Primitive_Ctor(                                            /* Text_76r */
        P( { 0.850151362260343, 0.9261203342013888, 0.045408678102926335, 0.030056423611111112 } )/* 76r-91a7c503fd456f398eb812c8f82c654c */,
        P( "Text_76r" )                                         /* Text_76r */,
        P( "Text 000000 line 2 null 000000 null Monospaced 8 Right" )/* Text_76r */
    ),
    &Primitive_Ctor(                                            /* Text_7ll */
        P( { 0.922300706357215, 0.9261203342013888, 0.045408678102926335, 0.030056423611111112 } )/* 7ll-91a7c503fd456f398eb812c8f82c654c */,
        P( "Text_7ll" )                                         /* Text_7ll */,
        P( "Text 000000 line 2 null 000000 null Monospaced 8 Clamp" )/* Text_7ll */
    ),
    &Primitive_Ctor(                                            /* Text_8as */
        P( { 0.872351160443996, 0.0702175564236111, 0.045408678102926335, 0.030056423611111112 } )/* 8as-91a7c503fd456f398eb812c8f82c654c */,
        P( "Text_8as" )                                         /* Text_8as */,
        P( "Text 000000 line 2 null 000000 null Monospaced 8 Time:" )/* Text_8as */
    ),
    &Primitive_Ctor(                                            /* Text_8it */
        P( { 0.9096871846619576, 0.0702175564236111, 0.055499495459132187, 0.030056423611111112 } )/* 8it-91a7c503fd456f398eb812c8f82c654c */,
        P( "Text_8it" )                                         /* Text_8it */,
        P( "Text 000000 line 2 null 000000 null Monospaced 8 _______" )/* Text_8it */
    )
};
Sprite* getobj( int id ){
    return g_objects[ id ];
}
cpBool ObjsBuilder_collisionBegin(
    cpArbiter* arb,
    cpSpace* space,
    cpDataPointer userData
){
    // Get the shapes involved in the collision
    cpShape *a, *b;
    cpArbiterGetShapes(arb, &a, &b);
    PhxSprite* pa = ( PhxSprite* )cpShapeGetUserData( a );
    PhxSprite* pb = ( PhxSprite* )cpShapeGetUserData( b );
    if( pa && ( pa->m_group & 3 ) != 0 || pb && ( pb->m_group & 3 ) != 0 ){
        // Print a message indicating a collision occurred
        printf("Collision detected between ball and box!\n");
    }

    // Return true to process the collision normally
    return cpTrue;
} /* ObjsBuilder_collisionBegin */

int ObjsBuilder_startSim(
    void  
){
    SDL_Window *window = NULL;
    SDL_Renderer *renderer = NULL;
    SDL_Surface *imageSurface = NULL;
    SDL_Texture *imageTexture = NULL;

    int nResult = S_OK;

    if (SDL_Init(SDL_INIT_VIDEO) < 0) {
        printf("SDL could not initialize! SDL_Error: %s\n", SDL_GetError());
        nResult = S_FALSE;
    }
    // Initialize SDL_ttf
    if (nResult == S_OK && TTF_Init() == -1) {
        printf("TTF could not initialize! TTF_Error: %s\n", TTF_GetError());
        nResult = S_FALSE;
    }

    if (nResult == S_OK) {
        // Load image
        char sRelPath[1024];
        sprintf(sRelPath, "%s/%s", getInputDir(), "ObjsBuilder/Main.png");
        imageSurface = IMG_Load(sRelPath);
        if (imageSurface == NULL) {
            printf("Unable to load image! SDL_image Error: %s\n", IMG_GetError());
            nResult = S_FALSE;
        } else {
            SCREEN_WIDTH = imageSurface->w;
            SCREEN_HEIGHT = imageSurface->h;
        }
    }

    if (nResult == S_OK) {
        SDL_RendererInfo rendererInfo;
        int numRenderDrivers = SDL_GetNumRenderDrivers();

        for (int i = 0; i < numRenderDrivers; ++i) {
            if (SDL_GetRenderDriverInfo(i, &rendererInfo) == 0) {
                if (rendererInfo.flags & SDL_RENDERER_ACCELERATED) {
                    printf("Hardware acceleration is available for renderer: %s\n", rendererInfo.name);
                    hardwareAccelerationAvailable = SDL_RENDERER_ACCELERATED;
                    break;
                }
            }
        }

        window = SDL_CreateWindow("Model Driven Development", SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN);
        if (window == NULL) {
            printf("Window could not be created! SDL_Error: %s\n", SDL_GetError());
            nResult = S_FALSE;
        } else {
            renderer = SDL_CreateRenderer(window, -1, hardwareAccelerationAvailable);
            if (renderer == NULL) {
                printf("Renderer could not be created! SDL_Error: %s\n", SDL_GetError());
                nResult = S_FALSE;
            }
        }
    }

    if (nResult == S_OK && imageSurface != NULL) {
        // Create a texture from the loaded surface
        imageTexture = SDL_CreateTexture(renderer, SDL_PIXELFORMAT_RGBA8888, SDL_TEXTUREACCESS_TARGET, SCREEN_WIDTH, SCREEN_HEIGHT);
        if (imageTexture == NULL) {
            printf("Unable to create texture! SDL_Error: %s\n", SDL_GetError());
            nResult = S_FALSE;
        }
    }

    // Initialize SDL_image
    if (nResult == S_OK && !(IMG_Init(IMG_INIT_PNG) & IMG_INIT_PNG)) {
        printf("SDL_image could not initialize! SDL_image Error: %s\n", IMG_GetError());
        nResult = S_FALSE;
    }

    cpVect gravity = cpv(0, -10);
    cpSpace *space = ObjsBuilder_getPhxSpace();
    cpSpaceSetGravity(space, gravity);
    cpSpaceSetDamping(space, 0.9);

    for( int i = 0; i < sizeof( g_objects ) / sizeof( g_objects[ 0 ] ) && nResult == S_OK; i++ ){
        if( Sprite_load( g_objects[ i ], renderer ) == false ){
            //nResult = S_FALSE;
        }
    }

    if( nResult == S_OK ){
            // Set the new texture as the render target
        SDL_SetRenderTarget(renderer, imageTexture);

        // Clear screen
        SDL_SetRenderDrawColor(renderer, 0xFF, 0xFF, 0xFF, 0xFF); // White
        SDL_RenderClear(renderer);

        clawMachine->m_stmShow = true;
        ClawMachine_Start( clawMachine );
        
        for (int i = 0; i < sizeof(g_objects) / sizeof(g_objects[0]); i++) {
            Sprite_draw0(g_objects[i], renderer);
        }

        // Reset the render target to the default
        SDL_SetRenderTarget(renderer, NULL);       
    }
    
    cpCollisionHandler *handler = cpSpaceAddDefaultCollisionHandler( ObjsBuilder_getPhxSpace() );
    handler->beginFunc = ObjsBuilder_collisionBegin;

    
    if (nResult == S_OK) {
        bool quit = false;
        SDL_Event e;

        while (!quit) {

            //cpBodyApplyForceAtLocalPoint( PhxSprite_getBody( arm_main_hanger ), cpv( 2, 0 ), cpvzero);
            //cpBodyApplyForceAtLocalPoint( PhxSprite_getBody( arm_main ), cpv( 0,31 ), cpvzero);
            /*
            cpBodySetForce( 
                PhxSprite_getBody( arm_main ), 
                cpvmult(
                    cpvnormalize( 
                        cpvsub( 
                            cpBodyGetPosition( PhxSprite_getBody( arm_main_hanger ) ),
                            cpBodyGetPosition( PhxSprite_getBody( arm_main ) )
                        )
                    ),
                    31
                )
            );
            */
            ClawMachine_EventProc( clawMachine, ClawMachine_TICK, null );

            bool hasUpdated = true;

            while( hasUpdated ){
                for (int i = 0; i < sizeof(g_objects) / sizeof(g_objects[0]); i++) {
                    Sprite_update(g_objects[i]);
                }
                hasUpdated = false;
                for (int i = 0; i < sizeof(g_objects) / sizeof(g_objects[0]); i++) {
                    if( Sprite_isUpdated(g_objects[i]) ){
                        hasUpdated = true;
                    }
                }
            }

            while (SDL_PollEvent(&e) != 0) {
                if (e.type == SDL_QUIT) {
                    quit = true;
                }else if (e.type == SDL_WINDOWEVENT) {
                    if (e.window.event == SDL_WINDOWEVENT_CLOSE) {
                        for (int i = 0; i < sizeof(g_objects) / sizeof(g_objects[0]); i++) {
                            Sprite* pSprite = g_objects[i];
                            if( SDL_GetWindowID( pSprite->m_stmWindow ) == e.window.windowID ){
                                if( pSprite->m_stmWindow != null ){
                                    int textureCount = (int)(intptr_t)SDL_GetWindowData(g_objects[i]->m_stmWindow, "textureCount");
                                    for (int j = 1; j <= textureCount; j++) {
                                        char key[20];
                                        snprintf(key, 20, "texture%d", j);
                                        SDL_Texture* texture = (SDL_Texture*)SDL_GetWindowData(g_objects[i]->m_stmWindow, key);
                                        SDL_DestroyTexture(texture);
                                        SDL_SetWindowData(g_objects[i]->m_stmWindow, key, NULL);
                                    }
                                    SDL_SetWindowData(g_objects[i]->m_stmWindow, "textureCount", (void*)(intptr_t)0);

                                    SDL_DestroyWindow( pSprite->m_stmWindow );
                                    SDL_Renderer* stmRenderer = SDL_GetRenderer( pSprite->m_stmWindow );
                                    SDL_DestroyRenderer( stmRenderer );
                                    SDL_DestroyTexture( pSprite->m_stmTexture );
                                    pSprite->m_stmWindow = null;
                                    pSprite->m_stmShow = false;
                                }
                            }
                        }
                    }
                } else if (e.type == SDL_MOUSEWHEEL 
                    || e.type == SDL_MOUSEBUTTONDOWN 
                    || e.type == SDL_MOUSEBUTTONUP 
                    || e.type == SDL_MOUSEMOTION 
                ){
                    for (int i = 0; i < sizeof(g_objects) / sizeof(g_objects[0]); i++) {
                        int mouseX = e.button.x;
                        int mouseY = e.button.y;
                        Sprite_updateMouseState(g_objects[i], mouseX, mouseY, e.type | e.button.button);
                    }
                    break;
                } else if (e.type == SDL_KEYDOWN) {
                    if (e.key.keysym.sym == SDLK_x) {
                    }else if (e.key.keysym.sym == SDLK_r) {
                    }else if (e.key.keysym.sym == SDLK_l) {
                    }
                }
            }
            // Update physics
            cpSpaceStep(space, 1.0 / 60.0);

            // Render the image texture
            if (imageTexture != NULL) {
                SDL_RenderCopy(renderer, imageTexture, NULL, NULL);
            }

            for (int i = 0; i < sizeof(g_objects) / sizeof(g_objects[0]); i++) {
                Sprite_draw1(g_objects[i], renderer);
            }

            // Update the screen
            SDL_RenderPresent(renderer);
            for (int i = 0; i < sizeof(g_objects) / sizeof(g_objects[0]); i++) {
                if( g_objects[i]->m_stmShow && g_objects[i]->m_stmUpdated  ){
                    SDL_Renderer* stmRenderer = SDL_GetRenderer( g_objects[i]->m_stmWindow );
                    SDL_SetRenderTarget(stmRenderer, NULL);
                    SDL_RenderCopy(stmRenderer, g_objects[i]->m_stmTexture, NULL, NULL);
                    SDL_RenderPresent(stmRenderer);
                    g_objects[i]->m_stmUpdated = false;
                }
            }
            // Delay to control the animation speed
            SDL_Delay(1);
        }
    }

    for (int i = 0; i < sizeof(g_objects) / sizeof(g_objects[0]); i++) {
        if( g_objects[i]->m_stmWindow != null ){
            int textureCount = (int)(intptr_t)SDL_GetWindowData(g_objects[i]->m_stmWindow, "textureCount");
            for (int i = 1; i <= textureCount; i++) {
                char key[20];
                snprintf(key, 20, "texture%d", i);
                SDL_Texture* texture = (SDL_Texture*)SDL_GetWindowData(g_objects[i]->m_stmWindow, key);
                SDL_DestroyTexture(texture);
                SDL_SetWindowData(g_objects[i]->m_stmWindow, key, NULL);
            }
            SDL_SetWindowData(g_objects[i]->m_stmWindow, "textureCount", (void*)(intptr_t)0);
        }
        Sprite_free(g_objects[i]);
    }

    // Free resources and close SDL
    SDL_DestroyTexture(imageTexture);
    SDL_FreeSurface(imageSurface);
    SDL_DestroyRenderer(renderer);
    SDL_DestroyWindow(window);
    TTF_Quit();    
    IMG_Quit();
    SDL_Quit();

    // Clean up
    cpSpaceFree(space);

    return 0;
} /* ObjsBuilder_startSim */

void ObjsBuilder_showEntry(
    void* pObj,
    void* pStm_,
    char* pMsg
){
    ObjsBuilder_showDiagram( pObj, pStm_, pMsg, 0x00, 0xFF, 0x00 );
} /* ObjsBuilder_showEntry */

void ObjsBuilder_showDoing(
    void* pObj,
    void* pStm_,
    char* pMsg
){
    //ObjsBuilder_showDiagram( pObj, pStm_, pMsg, 0x00, 0x00, 0xFF );
} /* ObjsBuilder_showDoing */

void ObjsBuilder_showExit(
    void* pObj,
    void* pStm_,
    char* pMsg
){
    ObjsBuilder_showDiagram( pObj, pStm_, pMsg, 0xFF, 0x00, 0x00 );
} /* ObjsBuilder_showExit */

void ObjsBuilder_showDiagram(
    void* pObj,
    void* pStm_,
    char* pMsg,
    char r,
    char g,
    char b
){
    Sprite* pSprite = ( Sprite* )pObj;
    if( pSprite->m_stmShow == false ){
        return;
    }
    HdStateMachine* pStm = ( HdStateMachine* )pStm_;
    char s[ 256 ];
    int l, t, w, h, dgrX, dgrY, dgrW, dgrH;
    sscanf( pMsg, "%s%d%d%d%d%d%d%d%d", s, &l, &t, &w, &h, &dgrX, &dgrY, &dgrW, &dgrH );
    if( pSprite->m_stmWindow == null ){
        char windowName[255];
        sprintf(windowName, "%s - %s", s, pSprite->m_name);
        pSprite->m_stmWindow = SDL_CreateWindow(windowName, SDL_WINDOWPOS_UNDEFINED, SDL_WINDOWPOS_UNDEFINED, 1, 0, SDL_WINDOW_SHOWN);
        SDL_CreateRenderer(pSprite->m_stmWindow, -1, hardwareAccelerationAvailable);
    }
    SDL_Texture* stmImage = pStm->m_stmImage;
    SDL_Rect* stmRect = &pStm->m_stmRect;
    if( stmImage == null ){
        stmImage = SDL_GetWindowData(pSprite->m_stmWindow, s);
        if( stmImage != null){
            char rectKey[255];
            snprintf(rectKey, 255, "%s-rect", s);
            stmRect = SDL_GetWindowData(pSprite->m_stmWindow, rectKey);
        }
    }
    if( stmImage == null ){
        char sRelPath[256];
        sprintf(sRelPath, "%s/%s.png", getInputDir(), s);
        SDL_Surface *imageSurface = IMG_Load(sRelPath);
        pStm->m_stmRect.w = imageSurface->w;
        pStm->m_stmRect.h = imageSurface->h;
        printf( "%s size: %dx%d\n", sRelPath, pStm->m_stmRect.w, pStm->m_stmRect.h );
        SDL_Renderer* stmRenderer = SDL_GetRenderer( pSprite->m_stmWindow );
        pStm->m_stmImage = SDL_CreateTextureFromSurface(stmRenderer, imageSurface);
        int width, height;
        SDL_GetWindowSize( pSprite->m_stmWindow, &width, &height );
        pStm->m_stmRect.x = 0;
        pStm->m_stmRect.y = height;
        if( width < pStm->m_stmRect.w ){
            width = pStm->m_stmRect.w;
        }
        height = height + pStm->m_stmRect.h;
        SDL_SetWindowSize( pSprite->m_stmWindow, width, height );
        SDL_RenderPresent(stmRenderer);                         // Refresh Renderer
        SDL_FreeSurface(imageSurface);

        Uint32 format;
        int dmyW, dmyH;
        SDL_QueryTexture(pStm->m_stmImage, &format, NULL, &dmyW, &dmyH);

        // Create a new texture with the same format and dimensions
        if( pSprite->m_stmTexture != null ){
            SDL_DestroyTexture(pSprite->m_stmTexture);
        }
        pSprite->m_stmTexture = SDL_CreateTexture(stmRenderer, format, SDL_TEXTUREACCESS_TARGET, width, height);

        // Get current texture count from window data
        int textureCount = (int)(intptr_t)SDL_GetWindowData(pSprite->m_stmWindow, "textureCount");
        textureCount++; // Increment texture count        
        // Store texture using a key based on new count
        char key[20];
        snprintf(key, 20, "texture%d", textureCount);
        SDL_SetWindowData(pSprite->m_stmWindow, key, pStm->m_stmImage);
        SDL_SetWindowData(pSprite->m_stmWindow, "textureCount", (void*)(intptr_t)textureCount);
        
        SDL_SetWindowData(pSprite->m_stmWindow, s, pStm->m_stmImage);
        char rectKey[255];
        snprintf(rectKey, 255, "%s-rect", s);
        SDL_SetWindowData(pSprite->m_stmWindow, rectKey, &pStm->m_stmRect);

        stmImage = pStm->m_stmImage;
        stmRect = &pStm->m_stmRect;
        pSprite->m_stmUpdated = false;
    }
    
    SDL_Renderer* stmRenderer = SDL_GetRenderer( pSprite->m_stmWindow );        
    if( !pSprite->m_stmUpdated ){
        SDL_SetRenderTarget(stmRenderer, pSprite->m_stmTexture);
        SDL_RenderCopy(stmRenderer, stmImage, NULL, stmRect);
    }

    int nTop = ( float )( t - dgrY ) + stmRect->y;
    int nLeft = ( float )( l - dgrX );
    int nHeight = ( float )h;
    int nWidth = ( float )w;
    UINT nDotSize = 3;

    rectangleRGBA( stmRenderer, nLeft, nTop, nLeft + nWidth, nTop + nHeight, r, g, b, 0xFF );

    pSprite->m_stmUpdated = true;     
} /* ObjsBuilder_showDiagram */

cpSpace* ObjsBuilder_getPhxSpace(
    void  
){
    static cpSpace* space = null;
    if( space == null ){
        space = cpSpaceNew();
    }
    return space;
} /* ObjsBuilder_getPhxSpace */

int ObjsBuilder_getScreenWidth(
    void  
){
    return SCREEN_WIDTH;
} /* ObjsBuilder_getScreenWidth */

int ObjsBuilder_getScreenHeight(
    void  
){
    return SCREEN_HEIGHT;
} /* ObjsBuilder_getScreenHeight */

ObjsBuilder* ObjsBuilder_Copy( ObjsBuilder* pObjsBuilder, const ObjsBuilder* pSource ){
    return ( ObjsBuilder* )pObjsBuilder;
}
